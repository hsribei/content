<h2 id="vx">VX</h2>
<blockquote>
<p>vx is collection of reusable low-level visualization components. vx combines the power of d3 to generate your visualization with the benefits of react for updating the DOM.</p>
</blockquote>
<p><a href="https://vx-demo.now.sh/"><img src="https://raw.githubusercontent.com/Swizec/react-d3js-es6-ebook/2018-version/manuscript/resources/images/2018/vx.png" alt="VX" /></a></p>
<p>VX is the closest to the approaches you’re learning in this book. React for rendering, D3 for calculations. When you build a set of custom components for your organization, a flavor of VX is what you often come up with.</p>
<p>That’s why I recommend teams use VX when they need to get started quickly.</p>
<p>Here’s what it takes to implement a Barchart using Nivo. <a href="https://codesandbox.io/s/k5853pryrv">You can try it on CodeSandbox</a></p>
<iframe src="https://codesandbox.io/embed/k5853pryrv?codemirror=1&amp;view=split" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin">
</iframe>
<div class="sourceCode" id="cb20" data-caption="Bar chart built in VX"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb20-1" title="1"><span class="kw">const</span> data <span class="op">=</span> [</a>
<a class="sourceLine" id="cb20-2" title="2">  <span class="op">{</span> <span class="dt">quarter</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">earnings</span><span class="op">:</span> <span class="dv">13000</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb20-3" title="3">  <span class="op">{</span> <span class="dt">quarter</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">earnings</span><span class="op">:</span> <span class="dv">16500</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb20-4" title="4">  <span class="op">{</span> <span class="dt">quarter</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">earnings</span><span class="op">:</span> <span class="dv">14250</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb20-5" title="5">  <span class="op">{</span> <span class="dt">quarter</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span> <span class="dt">earnings</span><span class="op">:</span> <span class="dv">19000</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb20-6" title="6">]<span class="op">;</span></a>
<a class="sourceLine" id="cb20-7" title="7"></a>
<a class="sourceLine" id="cb20-8" title="8"><span class="kw">const</span> App <span class="op">=</span> (<span class="op">{</span> width <span class="op">=</span> <span class="dv">400</span><span class="op">,</span> height <span class="op">=</span> <span class="dv">400</span> <span class="op">}</span>) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb20-9" title="9">  <span class="kw">const</span> xMax <span class="op">=</span> width<span class="op">;</span></a>
<a class="sourceLine" id="cb20-10" title="10">  <span class="kw">const</span> yMax <span class="op">=</span> height <span class="op">-</span> <span class="dv">120</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-11" title="11"></a>
<a class="sourceLine" id="cb20-12" title="12">  <span class="kw">const</span> x <span class="op">=</span> d <span class="op">=&gt;</span> <span class="va">d</span>.<span class="at">quarter</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-13" title="13">  <span class="kw">const</span> y <span class="op">=</span> d <span class="op">=&gt;</span> <span class="va">d</span>.<span class="at">earnings</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-14" title="14"></a>
<a class="sourceLine" id="cb20-15" title="15">  <span class="co">// scales</span></a>
<a class="sourceLine" id="cb20-16" title="16">  <span class="kw">const</span> xScale <span class="op">=</span> <span class="at">scaleBand</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb20-17" title="17">    <span class="dt">rangeRound</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> xMax]<span class="op">,</span></a>
<a class="sourceLine" id="cb20-18" title="18">    <span class="dt">domain</span><span class="op">:</span> <span class="va">data</span>.<span class="at">map</span>(x)<span class="op">,</span></a>
<a class="sourceLine" id="cb20-19" title="19">    <span class="dt">padding</span><span class="op">:</span> <span class="fl">0.4</span></a>
<a class="sourceLine" id="cb20-20" title="20">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-21" title="21">  <span class="kw">const</span> yScale <span class="op">=</span> <span class="at">scaleLinear</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb20-22" title="22">    <span class="dt">rangeRound</span><span class="op">:</span> [yMax<span class="op">,</span> <span class="dv">0</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb20-23" title="23">    <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="at">max</span>(data<span class="op">,</span> y)]</a>
<a class="sourceLine" id="cb20-24" title="24">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-25" title="25"></a>
<a class="sourceLine" id="cb20-26" title="26">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb20-27" title="27">    <span class="op">&lt;</span>div style<span class="op">={</span>styles<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb20-28" title="28">      <span class="op">&lt;</span>h1<span class="op">&gt;</span>VX basic demo&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb20-29" title="29">      <span class="op">&lt;</span>svg width<span class="op">={</span>width<span class="op">}</span> height<span class="op">={</span>height<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb20-30" title="30">        <span class="op">{</span><span class="va">data</span>.<span class="at">map</span>((d<span class="op">,</span> i) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb20-31" title="31">          <span class="kw">const</span> barHeight <span class="op">=</span> yMax <span class="op">-</span> <span class="at">yScale</span>(<span class="at">y</span>(d))<span class="op">;</span></a>
<a class="sourceLine" id="cb20-32" title="32">          <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb20-33" title="33">            <span class="op">&lt;</span>Bar</a>
<a class="sourceLine" id="cb20-34" title="34">              width<span class="op">={</span><span class="va">xScale</span>.<span class="at">bandwidth</span>()<span class="op">}</span></a>
<a class="sourceLine" id="cb20-35" title="35">              height<span class="op">={</span>barHeight<span class="op">}</span></a>
<a class="sourceLine" id="cb20-36" title="36">              x<span class="op">={</span><span class="at">xScale</span>(<span class="at">x</span>(d))<span class="op">}</span></a>
<a class="sourceLine" id="cb20-37" title="37">              y<span class="op">={</span>yMax <span class="op">-</span> barHeight<span class="op">}</span></a>
<a class="sourceLine" id="cb20-38" title="38">              data<span class="op">={{</span> <span class="dt">x</span><span class="op">:</span> <span class="at">x</span>(d)<span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="at">y</span>(d) <span class="op">}}</span></a>
<a class="sourceLine" id="cb20-39" title="39">            /&gt;</a>
<a class="sourceLine" id="cb20-40" title="40">          )<span class="op">;</span></a>
<a class="sourceLine" id="cb20-41" title="41">        <span class="op">}</span>)<span class="op">}</span></a>
<a class="sourceLine" id="cb20-42" title="42">      &lt;/svg<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb20-43" title="43">    &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb20-44" title="44">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb20-45" title="45"><span class="op">};</span></a></code></pre></div>
<p>Move involved than previous examples, but means you have more control and fight the library less often. VX does the tedious stuff for you, so you can focus on the stuff that matters.</p>
<p>This code creates value accessor methods, D3 scales, then iterates over an array of <code>data</code> and renders a <code>&lt;Bar</code> for each. The bar gets a bunch of props.</p>