<h2 id="step-4-build-toggle-component">Step 4: Build Toggle component</h2>
<p>Last piece of the puzzle – the Toggle component. A button that turns on and off.</p>
<div class="sourceCode" id="cb111" data-caption="Toggle component"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb111-1" title="1"><span class="co">// src/components/Controls/Toggle.js</span></a>
<a class="sourceLine" id="cb111-2" title="2"><span class="im">import</span> React <span class="im">from</span> <span class="st">&quot;react&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb111-3" title="3"></a>
<a class="sourceLine" id="cb111-4" title="4"><span class="kw">const</span> Toggle <span class="op">=</span> (<span class="op">{</span> label<span class="op">,</span> name<span class="op">,</span> value<span class="op">,</span> onClick <span class="op">}</span>) <span class="op">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb111-5" title="5">    <span class="kw">let</span> className <span class="op">=</span> <span class="st">&quot;btn btn-default&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb111-6" title="6"></a>
<a class="sourceLine" id="cb111-7" title="7">    <span class="cf">if</span> (value) <span class="op">{</span></a>
<a class="sourceLine" id="cb111-8" title="8">        className <span class="op">+=</span> <span class="st">&quot; btn-primary&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb111-9" title="9">    <span class="op">}</span></a>
<a class="sourceLine" id="cb111-10" title="10"></a>
<a class="sourceLine" id="cb111-11" title="11">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb111-12" title="12">        <span class="op">&lt;</span>button className<span class="op">={</span>className<span class="op">}</span> onClick<span class="op">={</span>() <span class="op">=&gt;</span> <span class="at">onClick</span>(name<span class="op">,</span> <span class="op">!</span>value)<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb111-13" title="13">            <span class="op">{</span>label<span class="op">}</span></a>
<a class="sourceLine" id="cb111-14" title="14">        &lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb111-15" title="15">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb111-16" title="16"><span class="op">};</span></a>
<a class="sourceLine" id="cb111-17" title="17"></a>
<a class="sourceLine" id="cb111-18" title="18"><span class="im">export</span> <span class="im">default</span> Toggle<span class="op">;</span></a></code></pre></div>
<p>Import React to enable JSX and make a functional <code>Toggle</code> component. It’s fully controlled and takes event handlers as callbacks in props. No need for a class.</p>
<p>We set up a Bootstrap classname: <code>btn</code> and <code>btn-default</code> make an element look like a button, the conditional <code>btn-primary</code> makes it blue. If you’re not familiar with Bootstrap classes, you should check <a href="http://getbootstrap.com/">their documentation</a>.</p>
<p>Then we render a <code>&lt;button&gt;</code> tag and, well, that’s it. A row of year filters appears in the browser. <code>onClick</code> passes</p>
<figure>
<img src="https://raw.githubusercontent.com/Swizec/react-d3js-es6-ebook/2018-version/manuscript/resources/images/es6v2/year-filter-row.png" alt="A row of year filters" /><figcaption>A row of year filters</figcaption>
</figure>
<p>Click on a button and the <code>onClick</code> handler passes a toggle’d value to its parent via the <code>onClick</code> callback. This triggers an update in <code>Controls</code>, which calls <code>reportUpdateUpTheChain</code>, which in turn updates state in <code>App</code> and re-renders our button with the new value toggling its color on or off.</p>
<p>If that didn’t work, consult this <a href="https://github.com/Swizec/react-d3js-step-by-step/commit/a45c33e172297ca1bbcfdc76733eae75779ebd7f">diff on GitHub</a>.</p>