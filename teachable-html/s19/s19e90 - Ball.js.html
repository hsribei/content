    <h3 id="ball.js">Ball.js</h3>
    <p>
      Youâ€™ve rendered a ball before: Itâ€™s an SVG circle. You can make it
      fancier, but thatâ€™s not the point. The point are transitions.
    </p>
    <p>
      The way D3 transitions work with React feels like combining the blackbox
      and full integration approaches. Full integration for rendering, switch
      to blackbox for the transition, release control back to React. ðŸ¤¯
    </p>
    <div
      class="sourceCode"
      id="cb133"
      data-caption="Rendering a ball"
      style="overflow: visible; margin: 1em 0;"
    >
      <pre
        class="sourceCode javascript"
        style="overflow: visible; margin: 0;"
      ><code class="sourceCode javascript" style="overflow: visible; white-space: pre; position: relative;"><a class="sourceLine" id="cb133-1" title="1" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit;"><span class="kw" style="color: #007020; font-weight: bold;">class</span> Ball <span class="kw" style="color: #007020; font-weight: bold;">extends</span> <span class="va" style="color: #19177c;">React</span>.<span class="at" style="color: #7d9029;">PureComponent</span> <span class="op" style="color: #666666;">{</span></a>
<a class="sourceLine" id="cb133-2" title="2" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit;">  <span class="at" style="color: #7d9029;">constructor</span>(props) <span class="op" style="color: #666666;">{</span></a>
<a class="sourceLine" id="cb133-3" title="3" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit;">    <span class="kw" style="color: #007020; font-weight: bold;">super</span>()<span class="op" style="color: #666666;">;</span></a>
<a class="sourceLine" id="cb133-4" title="4" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit;">    <span class="kw" style="color: #007020; font-weight: bold;">this</span>.<span class="at" style="color: #7d9029;">state</span> <span class="op" style="color: #666666;">=</span> <span class="op" style="color: #666666;">{</span></a>
<a class="sourceLine" id="cb133-5" title="5" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit;">      <span class="dt" style="color: #902000;">x</span><span class="op" style="color: #666666;">:</span> <span class="va" style="color: #19177c;">props</span>.<span class="at" style="color: #7d9029;">x</span></a>
<a class="sourceLine" id="cb133-6" title="6" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit;">    <span class="op" style="color: #666666;">};</span></a>
<a class="sourceLine" id="cb133-7" title="7" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit;">  <span class="op" style="color: #666666;">}</span></a>
<a class="sourceLine" id="cb133-8" title="8" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit; height: 1.2em;"></a>
<a class="sourceLine" id="cb133-9" title="9" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit;">  circleRef <span class="op" style="color: #666666;">=</span> <span class="va" style="color: #19177c;">React</span>.<span class="at" style="color: #7d9029;">createRef</span>()<span class="op" style="color: #666666;">;</span></a>
<a class="sourceLine" id="cb133-10" title="10" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit; height: 1.2em;"></a>
<a class="sourceLine" id="cb133-11" title="11" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit; height: 1.2em;"></a>
<a class="sourceLine" id="cb133-12" title="12" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit;">  <span class="at" style="color: #7d9029;">render</span>() <span class="op" style="color: #666666;">{</span></a>
<a class="sourceLine" id="cb133-13" title="13" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit;">    <span class="kw" style="color: #007020; font-weight: bold;">const</span> <span class="op" style="color: #666666;">{</span> x<span class="op" style="color: #666666;">,</span> y <span class="op" style="color: #666666;">}</span> <span class="op" style="color: #666666;">=</span> <span class="kw" style="color: #007020; font-weight: bold;">this</span>.<span class="at" style="color: #7d9029;">state</span><span class="op" style="color: #666666;">;</span></a>
<a class="sourceLine" id="cb133-14" title="14" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit; height: 1.2em;"></a>
<a class="sourceLine" id="cb133-15" title="15" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit;">    <span class="cf" style="color: #007020; font-weight: bold;">return</span> <span class="op" style="color: #666666;">&lt;</span>circle r<span class="op" style="color: #666666;">=</span><span class="st" style="color: #4070a0;">&quot;10&quot;</span> cx<span class="op" style="color: #666666;">={</span>x<span class="op" style="color: #666666;">}</span> cy<span class="op" style="color: #666666;">={</span><span class="dv" style="color: #40a070;">10</span><span class="op" style="color: #666666;">}</span> ref<span class="op" style="color: #666666;">={</span><span class="kw" style="color: #007020; font-weight: bold;">this</span>.<span class="at" style="color: #7d9029;">circleRef</span><span class="op" style="color: #666666;">}</span> /&gt;<span class="op" style="color: #666666;">;</span></a>
<a class="sourceLine" id="cb133-16" title="16" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit;">  <span class="op" style="color: #666666;">}</span></a>
<a class="sourceLine" id="cb133-17" title="17" style="display: inline-block; line-height: 1.25; pointer-events: none; color: inherit; text-decoration: inherit;"><span class="op" style="color: #666666;">}</span></a></code></pre>
    </div>
    <p>
      We render a <code style="white-space: pre-wrap;">circle</code> at
      <code style="white-space: pre-wrap;">x</code> coordinate and a random
      <code style="white-space: pre-wrap;">y</code> and give it a React ref.
      Weâ€™ll use this ref to give control of the DOM node to D3. Just like
      blackbox components.
    </p>
    <p>
      The interesting part is that we use a constructor to copy our
      <code style="white-space: pre-wrap;">x</code> prop into state. Thatâ€™s
      because weâ€™re going to use props as a sort of staging area for what we
      <em>want</em> <code style="white-space: pre-wrap;">x</code> to be, not
      what it currently is.
    </p>
    <p>Props change, state stays the same. React doesnâ€™t move our ball.</p>